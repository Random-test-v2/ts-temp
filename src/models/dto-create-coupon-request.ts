/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import {
  TypesCouponCadence,
  TypesCouponCadence$outboundSchema,
} from "./types-coupon-cadence.js";
import {
  TypesCouponType,
  TypesCouponType$outboundSchema,
} from "./types-coupon-type.js";

export type DtoCreateCouponRequest = {
  amountOff?: string | undefined;
  cadence: TypesCouponCadence;
  currency?: string | undefined;
  durationInPeriods?: number | undefined;
  maxRedemptions?: number | undefined;
  metadata?: { [k: string]: string } | undefined;
  name: string;
  percentageOff?: string | undefined;
  redeemAfter?: string | undefined;
  redeemBefore?: string | undefined;
  rules?: { [k: string]: any } | undefined;
  type: TypesCouponType;
};

/** @internal */
export type DtoCreateCouponRequest$Outbound = {
  amount_off?: string | undefined;
  cadence: string;
  currency?: string | undefined;
  duration_in_periods?: number | undefined;
  max_redemptions?: number | undefined;
  metadata?: { [k: string]: string } | undefined;
  name: string;
  percentage_off?: string | undefined;
  redeem_after?: string | undefined;
  redeem_before?: string | undefined;
  rules?: { [k: string]: any } | undefined;
  type: string;
};

/** @internal */
export const DtoCreateCouponRequest$outboundSchema: z.ZodMiniType<
  DtoCreateCouponRequest$Outbound,
  DtoCreateCouponRequest
> = z.pipe(
  z.object({
    amountOff: z.optional(z.string()),
    cadence: TypesCouponCadence$outboundSchema,
    currency: z.optional(z.string()),
    durationInPeriods: z.optional(z.int()),
    maxRedemptions: z.optional(z.int()),
    metadata: z.optional(z.record(z.string(), z.string())),
    name: z.string(),
    percentageOff: z.optional(z.string()),
    redeemAfter: z.optional(z.string()),
    redeemBefore: z.optional(z.string()),
    rules: z.optional(z.record(z.string(), z.any())),
    type: TypesCouponType$outboundSchema,
  }),
  z.transform((v) => {
    return remap$(v, {
      amountOff: "amount_off",
      durationInPeriods: "duration_in_periods",
      maxRedemptions: "max_redemptions",
      percentageOff: "percentage_off",
      redeemAfter: "redeem_after",
      redeemBefore: "redeem_before",
    });
  }),
);

export function dtoCreateCouponRequestToJSON(
  dtoCreateCouponRequest: DtoCreateCouponRequest,
): string {
  return JSON.stringify(
    DtoCreateCouponRequest$outboundSchema.parse(dtoCreateCouponRequest),
  );
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";
import {
  PriceJSONBTransformQuantity,
  PriceJSONBTransformQuantity$inboundSchema,
} from "./price-jsonb-transform-quantity.js";
import {
  PricePriceTier,
  PricePriceTier$inboundSchema,
} from "./price-price-tier.js";
import {
  TypesBillingCadence,
  TypesBillingCadence$inboundSchema,
} from "./types-billing-cadence.js";
import {
  TypesBillingModel,
  TypesBillingModel$inboundSchema,
} from "./types-billing-model.js";
import {
  TypesBillingPeriod,
  TypesBillingPeriod$inboundSchema,
} from "./types-billing-period.js";
import {
  TypesBillingTier,
  TypesBillingTier$inboundSchema,
} from "./types-billing-tier.js";
import {
  TypesInvoiceCadence,
  TypesInvoiceCadence$inboundSchema,
} from "./types-invoice-cadence.js";
import {
  TypesPriceEntityType,
  TypesPriceEntityType$inboundSchema,
} from "./types-price-entity-type.js";
import {
  TypesPriceType,
  TypesPriceType$inboundSchema,
} from "./types-price-type.js";
import {
  TypesPriceUnitType,
  TypesPriceUnitType$inboundSchema,
} from "./types-price-unit-type.js";
import { TypesStatus, TypesStatus$inboundSchema } from "./types-status.js";

export type PricePrice = {
  /**
   * Amount stored in main currency units (e.g., dollars, not cents)
   *
   * @remarks
   * For USD: 12.50 means $12.50
   */
  amount?: string | undefined;
  billingCadence?: TypesBillingCadence | undefined;
  billingModel?: TypesBillingModel | undefined;
  billingPeriod?: TypesBillingPeriod | undefined;
  /**
   * BillingPeriodCount is the count of the billing period ex 1, 3, 6, 12
   */
  billingPeriodCount?: number | undefined;
  /**
   * ConversionRate is the conversion rate of the price unit to the fiat currency
   */
  conversionRate?: string | undefined;
  createdAt?: string | undefined;
  createdBy?: string | undefined;
  /**
   * Currency 3 digit ISO currency code in lowercase ex usd, eur, gbp
   */
  currency?: string | undefined;
  /**
   * Description of the price
   */
  description?: string | undefined;
  /**
   * DisplayAmount is the formatted amount with currency symbol
   *
   * @remarks
   * For USD: $12.50
   */
  displayAmount?: string | undefined;
  /**
   * DisplayName is the name of the price
   */
  displayName?: string | undefined;
  /**
   * DisplayPriceUnitAmount is the formatted amount of the price unit
   */
  displayPriceUnitAmount?: string | undefined;
  /**
   * EndDate is the end date of the price
   */
  endDate?: string | undefined;
  /**
   * EntityID holds the value of the "entity_id" field.
   */
  entityId?: string | undefined;
  entityType?: TypesPriceEntityType | undefined;
  /**
   * EnvironmentID is the environment identifier for the price
   */
  environmentId?: string | undefined;
  /**
   * GroupID references the group this price belongs to
   */
  groupId?: string | undefined;
  /**
   * ID uuid identifier for the price
   */
  id?: string | undefined;
  invoiceCadence?: TypesInvoiceCadence | undefined;
  /**
   * LookupKey used for looking up the price in the database
   */
  lookupKey?: string | undefined;
  metadata?: { [k: string]: string } | undefined;
  /**
   * MeterID is the id of the meter for usage based pricing
   */
  meterId?: string | undefined;
  /**
   * MinQuantity is the minimum quantity of the price
   */
  minQuantity?: string | null | undefined;
  /**
   * ParentPriceID references the root price (always set for price lineage tracking)
   */
  parentPriceId?: string | undefined;
  /**
   * PriceUnit is the code of the price unit (e.g., 'btc', 'eth')
   */
  priceUnit?: string | undefined;
  /**
   * PriceUnitAmount is the amount of the price unit
   */
  priceUnitAmount?: string | undefined;
  /**
   * PriceUnitID is the id of the price unit (for CUSTOM type)
   */
  priceUnitId?: string | undefined;
  /**
   * PriceUnitTiers are the tiers for the price unit when BillingModel is TIERED
   */
  priceUnitTiers?: Array<PricePriceTier> | undefined;
  priceUnitType?: TypesPriceUnitType | undefined;
  /**
   * StartDate is the start date of the price
   */
  startDate?: string | undefined;
  status?: TypesStatus | undefined;
  tenantId?: string | undefined;
  tierMode?: TypesBillingTier | undefined;
  tiers?: Array<PricePriceTier> | undefined;
  transformQuantity?: PriceJSONBTransformQuantity | undefined;
  /**
   * TrialPeriod is the number of days for the trial period
   *
   * @remarks
   * Note: This is only applicable for recurring prices (BILLING_CADENCE_RECURRING)
   */
  trialPeriod?: number | undefined;
  type?: TypesPriceType | undefined;
  updatedAt?: string | undefined;
  updatedBy?: string | undefined;
};

/** @internal */
export const PricePrice$inboundSchema: z.ZodMiniType<PricePrice, unknown> = z
  .pipe(
    z.object({
      amount: types.optional(types.string()),
      billing_cadence: types.optional(TypesBillingCadence$inboundSchema),
      billing_model: types.optional(TypesBillingModel$inboundSchema),
      billing_period: types.optional(TypesBillingPeriod$inboundSchema),
      billing_period_count: types.optional(types.number()),
      conversion_rate: types.optional(types.string()),
      created_at: types.optional(types.string()),
      created_by: types.optional(types.string()),
      currency: types.optional(types.string()),
      description: types.optional(types.string()),
      display_amount: types.optional(types.string()),
      display_name: types.optional(types.string()),
      display_price_unit_amount: types.optional(types.string()),
      end_date: types.optional(types.string()),
      entity_id: types.optional(types.string()),
      entity_type: types.optional(TypesPriceEntityType$inboundSchema),
      environment_id: types.optional(types.string()),
      group_id: types.optional(types.string()),
      id: types.optional(types.string()),
      invoice_cadence: types.optional(TypesInvoiceCadence$inboundSchema),
      lookup_key: types.optional(types.string()),
      metadata: types.optional(z.record(z.string(), types.string())),
      meter_id: types.optional(types.string()),
      min_quantity: z.optional(z.nullable(types.string())),
      parent_price_id: types.optional(types.string()),
      price_unit: types.optional(types.string()),
      price_unit_amount: types.optional(types.string()),
      price_unit_id: types.optional(types.string()),
      price_unit_tiers: types.optional(z.array(PricePriceTier$inboundSchema)),
      price_unit_type: types.optional(TypesPriceUnitType$inboundSchema),
      start_date: types.optional(types.string()),
      status: types.optional(TypesStatus$inboundSchema),
      tenant_id: types.optional(types.string()),
      tier_mode: types.optional(TypesBillingTier$inboundSchema),
      tiers: types.optional(z.array(PricePriceTier$inboundSchema)),
      transform_quantity: types.optional(
        PriceJSONBTransformQuantity$inboundSchema,
      ),
      trial_period: types.optional(types.number()),
      type: types.optional(TypesPriceType$inboundSchema),
      updated_at: types.optional(types.string()),
      updated_by: types.optional(types.string()),
    }),
    z.transform((v) => {
      return remap$(v, {
        "billing_cadence": "billingCadence",
        "billing_model": "billingModel",
        "billing_period": "billingPeriod",
        "billing_period_count": "billingPeriodCount",
        "conversion_rate": "conversionRate",
        "created_at": "createdAt",
        "created_by": "createdBy",
        "display_amount": "displayAmount",
        "display_name": "displayName",
        "display_price_unit_amount": "displayPriceUnitAmount",
        "end_date": "endDate",
        "entity_id": "entityId",
        "entity_type": "entityType",
        "environment_id": "environmentId",
        "group_id": "groupId",
        "invoice_cadence": "invoiceCadence",
        "lookup_key": "lookupKey",
        "meter_id": "meterId",
        "min_quantity": "minQuantity",
        "parent_price_id": "parentPriceId",
        "price_unit": "priceUnit",
        "price_unit_amount": "priceUnitAmount",
        "price_unit_id": "priceUnitId",
        "price_unit_tiers": "priceUnitTiers",
        "price_unit_type": "priceUnitType",
        "start_date": "startDate",
        "tenant_id": "tenantId",
        "tier_mode": "tierMode",
        "transform_quantity": "transformQuantity",
        "trial_period": "trialPeriod",
        "updated_at": "updatedAt",
        "updated_by": "updatedBy",
      });
    }),
  );

export function pricePriceFromJSON(
  jsonString: string,
): SafeParseResult<PricePrice, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => PricePrice$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'PricePrice' from JSON`,
  );
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { walletsCreateWallet } from "../funcs/walletsCreateWallet.js";
import { walletsGetCustomerWallets } from "../funcs/walletsGetCustomerWallets.js";
import { walletsGetWallet } from "../funcs/walletsGetWallet.js";
import { walletsGetWalletBalance } from "../funcs/walletsGetWalletBalance.js";
import { walletsGetWalletsByCustomerId } from "../funcs/walletsGetWalletsByCustomerId.js";
import { walletsGetWalletTransactions } from "../funcs/walletsGetWalletTransactions.js";
import { walletsQueryWallet } from "../funcs/walletsQueryWallet.js";
import { walletsQueryWalletTransaction } from "../funcs/walletsQueryWalletTransaction.js";
import { walletsTerminateWallet } from "../funcs/walletsTerminateWallet.js";
import { walletsTopUpWallet } from "../funcs/walletsTopUpWallet.js";
import { walletsUpdateWallet } from "../funcs/walletsUpdateWallet.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "./models/operations/index.js";
import * as shared from "./models/shared/index.js";
import { unwrapAsync } from "./types/fp.js";

export class Wallets extends ClientSDK {
  /**
   * Create a new wallet
   *
   * @remarks
   * Use when giving a customer a prepaid or credit balance (e.g. prepaid plans or promotional credits).
   */
  async createWallet(
    request: shared.DtoCreateWalletRequest,
    options?: RequestOptions,
  ): Promise<operations.CreateWalletResponse> {
    return unwrapAsync(walletsCreateWallet(
      this,
      request,
      options,
    ));
  }

  /**
   * Get Customer Wallets
   *
   * @remarks
   * Use when resolving wallets by external customer id or lookup key (e.g. from your app's user id). Supports optional real-time balance and expand.
   */
  async getCustomerWallets(
    request?: operations.GetCustomerWalletsRequest | undefined,
    options?: RequestOptions,
  ): Promise<operations.GetCustomerWalletsResponse> {
    return unwrapAsync(walletsGetCustomerWallets(
      this,
      request,
      options,
    ));
  }

  /**
   * Get wallet
   *
   * @remarks
   * Use when you need to load a single wallet (e.g. for a balance or settings view).
   */
  async getWallet(
    request: operations.GetWalletRequest,
    options?: RequestOptions,
  ): Promise<operations.GetWalletResponse> {
    return unwrapAsync(walletsGetWallet(
      this,
      request,
      options,
    ));
  }

  /**
   * Get wallet balance
   *
   * @remarks
   * Use when displaying or checking current wallet balance (e.g. before charging or in a portal). Supports optional expand for credits breakdown and from_cache.
   */
  async getWalletBalance(
    request: operations.GetWalletBalanceRequest,
    options?: RequestOptions,
  ): Promise<operations.GetWalletBalanceResponse> {
    return unwrapAsync(walletsGetWalletBalance(
      this,
      request,
      options,
    ));
  }

  /**
   * Get wallet transactions
   *
   * @remarks
   * Use when showing transaction history for a wallet (e.g. credit/debit log or audit). Returns a paginated list; supports limit, offset, and filters.
   */
  async getWalletTransactions(
    request: operations.GetWalletTransactionsRequest,
    options?: RequestOptions,
  ): Promise<operations.GetWalletTransactionsResponse> {
    return unwrapAsync(walletsGetWalletTransactions(
      this,
      request,
      options,
    ));
  }

  /**
   * Get wallets by customer ID
   *
   * @remarks
   * Use when showing a customer's wallets (e.g. balance overview by currency or in a billing portal). Supports optional expand for balance breakdown.
   */
  async getWalletsByCustomerId(
    request: operations.GetWalletsByCustomerIdRequest,
    options?: RequestOptions,
  ): Promise<operations.GetWalletsByCustomerIdResponse> {
    return unwrapAsync(walletsGetWalletsByCustomerId(
      this,
      request,
      options,
    ));
  }

  /**
   * Query wallets
   *
   * @remarks
   * Use when listing or searching wallets (e.g. admin view or reporting). Returns a paginated list; supports filtering by customer and status.
   */
  async queryWallet(
    request: shared.TypesWalletFilter,
    options?: RequestOptions,
  ): Promise<operations.QueryWalletResponse> {
    return unwrapAsync(walletsQueryWallet(
      this,
      request,
      options,
    ));
  }

  /**
   * Query wallet transactions
   *
   * @remarks
   * Use when searching or reporting on wallet transactions (e.g. cross-wallet history or reconciliation). Returns a paginated list; supports filtering by wallet, customer, type, date range.
   */
  async queryWalletTransaction(
    request: shared.TypesWalletTransactionFilter,
    options?: RequestOptions,
  ): Promise<operations.QueryWalletTransactionResponse> {
    return unwrapAsync(walletsQueryWalletTransaction(
      this,
      request,
      options,
    ));
  }

  /**
   * Terminate a wallet
   *
   * @remarks
   * Use when closing a customer wallet (e.g. churn or migration). Closes the wallet and applies remaining balance per policy (refund or forfeit).
   */
  async terminateWallet(
    request: operations.TerminateWalletRequest,
    options?: RequestOptions,
  ): Promise<operations.TerminateWalletResponse> {
    return unwrapAsync(walletsTerminateWallet(
      this,
      request,
      options,
    ));
  }

  /**
   * Top up wallet
   *
   * @remarks
   * Use when adding funds to a wallet (e.g. top-up, refund, or manual credit). Supports optional idempotency via reference.
   */
  async topUpWallet(
    request: operations.TopUpWalletRequest,
    options?: RequestOptions,
  ): Promise<operations.TopUpWalletResponse> {
    return unwrapAsync(walletsTopUpWallet(
      this,
      request,
      options,
    ));
  }

  /**
   * Update a wallet
   *
   * @remarks
   * Use when changing wallet settings (e.g. enabling or updating auto top-up thresholds).
   */
  async updateWallet(
    request: operations.UpdateWalletRequest,
    options?: RequestOptions,
  ): Promise<operations.UpdateWalletResponse> {
    return unwrapAsync(walletsUpdateWallet(
      this,
      request,
      options,
    ));
  }
}

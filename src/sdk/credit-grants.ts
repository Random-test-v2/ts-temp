/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { creditGrantsCreateCreditGrant } from "../funcs/credit-grants-create-credit-grant.js";
import { creditGrantsDeleteCreditGrant } from "../funcs/credit-grants-delete-credit-grant.js";
import { creditGrantsGetCreditGrant } from "../funcs/credit-grants-get-credit-grant.js";
import { creditGrantsGetPlanCreditGrants } from "../funcs/credit-grants-get-plan-credit-grants.js";
import { creditGrantsUpdateCreditGrant } from "../funcs/credit-grants-update-credit-grant.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class CreditGrants extends ClientSDK {
  /**
   * Create credit grant
   *
   * @remarks
   * Use when giving a customer or plan credits (e.g. prepaid balance or promotional credits). Scope can be plan or subscription; supports start/end dates.
   */
  async createCreditGrant(
    request: models.DtoCreateCreditGrantRequest,
    options?: RequestOptions,
  ): Promise<models.DtoCreditGrantResponse> {
    return unwrapAsync(creditGrantsCreateCreditGrant(
      this,
      request,
      options,
    ));
  }

  /**
   * Get credit grant
   *
   * @remarks
   * Use when you need to load a single credit grant (e.g. for display or to check balance).
   */
  async getCreditGrant(
    request: operations.GetCreditGrantRequest,
    options?: RequestOptions,
  ): Promise<models.DtoCreditGrantResponse> {
    return unwrapAsync(creditGrantsGetCreditGrant(
      this,
      request,
      options,
    ));
  }

  /**
   * Update credit grant
   *
   * @remarks
   * Use when changing a credit grant (e.g. amount or end date). Request body contains the fields to update.
   */
  async updateCreditGrant(
    request: operations.UpdateCreditGrantRequest,
    options?: RequestOptions,
  ): Promise<models.DtoCreditGrantResponse> {
    return unwrapAsync(creditGrantsUpdateCreditGrant(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete credit grant
   *
   * @remarks
   * Use when removing or ending a credit grant (e.g. revoke promo or close prepaid). Plan-scoped grants are archived; subscription-scoped supports optional effective_date in body.
   */
  async deleteCreditGrant(
    request: operations.DeleteCreditGrantRequest,
    options?: RequestOptions,
  ): Promise<models.DtoSuccessResponse> {
    return unwrapAsync(creditGrantsDeleteCreditGrant(
      this,
      request,
      options,
    ));
  }

  /**
   * Get plan credit grants
   *
   * @remarks
   * Use when listing credits attached to a plan (e.g. included prepaid or promo credits).
   */
  async getPlanCreditGrants(
    request: operations.GetPlanCreditGrantsRequest,
    options?: RequestOptions,
  ): Promise<models.DtoListCreditGrantsResponse> {
    return unwrapAsync(creditGrantsGetPlanCreditGrants(
      this,
      request,
      options,
    ));
  }
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../../lib/primitives.js";
import { safeParse } from "../../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  CreditnoteCreditNoteLineItem,
  CreditnoteCreditNoteLineItem$inboundSchema,
} from "./creditnotecreditnotelineitem.js";
import {
  DtoInvoiceResponse,
  DtoInvoiceResponse$inboundSchema,
} from "./dtoinvoiceresponse.js";
import {
  DtoSubscriptionResponse,
  DtoSubscriptionResponse$inboundSchema,
} from "./dtosubscriptionresponse.js";
import {
  GithubComFlexpriceFlexpriceInternalDomainCustomerCustomer,
  GithubComFlexpriceFlexpriceInternalDomainCustomerCustomer$inboundSchema,
} from "./githubcomflexpriceflexpriceinternaldomaincustomercustomer.js";
import {
  TypesCreditNoteReason,
  TypesCreditNoteReason$inboundSchema,
} from "./typescreditnotereason.js";
import {
  TypesCreditNoteStatus,
  TypesCreditNoteStatus$inboundSchema,
} from "./typescreditnotestatus.js";
import {
  TypesCreditNoteType,
  TypesCreditNoteType$inboundSchema,
} from "./typescreditnotetype.js";
import {
  TypesPaymentStatus,
  TypesPaymentStatus$inboundSchema,
} from "./typespaymentstatus.js";
import { TypesStatus, TypesStatus$inboundSchema } from "./typesstatus.js";

export type DtoCreditNoteResponse = {
  createdAt?: string | undefined;
  createdBy?: string | undefined;
  /**
   * credit_note_number is the unique identifier for credit notes
   */
  creditNoteNumber?: string | undefined;
  creditNoteStatus?: TypesCreditNoteStatus | undefined;
  creditNoteType?: TypesCreditNoteType | undefined;
  /**
   * currency is the three-letter ISO currency code (e.g., USD, EUR) for the credit note
   */
  currency?: string | undefined;
  customer?:
    | GithubComFlexpriceFlexpriceInternalDomainCustomerCustomer
    | undefined;
  /**
   * customer_id is the unique identifier of the customer who owns this credit note
   */
  customerId?: string | undefined;
  /**
   * environment_id is the unique identifier of the environment this credit note belongs to
   */
  environmentId?: string | undefined;
  /**
   * finalized_at is the timestamp when the credit note was finalized
   */
  finalizedAt?: string | undefined;
  /**
   * id is the unique identifier for the credit note
   */
  id?: string | undefined;
  /**
   * idempotency_key is an optional key used to prevent duplicate credit note creation
   */
  idempotencyKey?: string | undefined;
  invoice?: DtoInvoiceResponse | undefined;
  /**
   * invoice_id is the id of the invoice resource that this credit note is applied to
   */
  invoiceId?: string | undefined;
  /**
   * line_items contains all of the line items associated with this credit note
   */
  lineItems?: Array<CreditnoteCreditNoteLineItem> | undefined;
  /**
   * memo is an optional memo supplied on the credit note
   */
  memo?: string | undefined;
  metadata?: { [k: string]: string } | undefined;
  reason?: TypesCreditNoteReason | undefined;
  refundStatus?: TypesPaymentStatus | undefined;
  status?: TypesStatus | undefined;
  subscription?: DtoSubscriptionResponse | undefined;
  /**
   * subscription_id is the optional unique identifier of the subscription related to this credit note
   */
  subscriptionId?: string | undefined;
  tenantId?: string | undefined;
  /**
   * total_amount is the total including creditable invoice-level discounts or minimums, and tax
   */
  totalAmount?: string | undefined;
  updatedAt?: string | undefined;
  updatedBy?: string | undefined;
  /**
   * voided_at is the timestamp when the credit note was voided
   */
  voidedAt?: string | undefined;
};

/** @internal */
export const DtoCreditNoteResponse$inboundSchema: z.ZodType<
  DtoCreditNoteResponse,
  z.ZodTypeDef,
  unknown
> = z.object({
  created_at: z.string().optional(),
  created_by: z.string().optional(),
  credit_note_number: z.string().optional(),
  credit_note_status: TypesCreditNoteStatus$inboundSchema.optional(),
  credit_note_type: TypesCreditNoteType$inboundSchema.optional(),
  currency: z.string().optional(),
  customer:
    GithubComFlexpriceFlexpriceInternalDomainCustomerCustomer$inboundSchema
      .optional(),
  customer_id: z.string().optional(),
  environment_id: z.string().optional(),
  finalized_at: z.string().optional(),
  id: z.string().optional(),
  idempotency_key: z.string().optional(),
  invoice: DtoInvoiceResponse$inboundSchema.optional(),
  invoice_id: z.string().optional(),
  line_items: z.array(CreditnoteCreditNoteLineItem$inboundSchema).optional(),
  memo: z.string().optional(),
  metadata: z.record(z.string()).optional(),
  reason: TypesCreditNoteReason$inboundSchema.optional(),
  refund_status: TypesPaymentStatus$inboundSchema.optional(),
  status: TypesStatus$inboundSchema.optional(),
  subscription: DtoSubscriptionResponse$inboundSchema.optional(),
  subscription_id: z.string().optional(),
  tenant_id: z.string().optional(),
  total_amount: z.string().optional(),
  updated_at: z.string().optional(),
  updated_by: z.string().optional(),
  voided_at: z.string().optional(),
}).transform((v) => {
  return remap$(v, {
    "created_at": "createdAt",
    "created_by": "createdBy",
    "credit_note_number": "creditNoteNumber",
    "credit_note_status": "creditNoteStatus",
    "credit_note_type": "creditNoteType",
    "customer_id": "customerId",
    "environment_id": "environmentId",
    "finalized_at": "finalizedAt",
    "idempotency_key": "idempotencyKey",
    "invoice_id": "invoiceId",
    "line_items": "lineItems",
    "refund_status": "refundStatus",
    "subscription_id": "subscriptionId",
    "tenant_id": "tenantId",
    "total_amount": "totalAmount",
    "updated_at": "updatedAt",
    "updated_by": "updatedBy",
    "voided_at": "voidedAt",
  });
});

export function dtoCreditNoteResponseFromJSON(
  jsonString: string,
): SafeParseResult<DtoCreditNoteResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => DtoCreditNoteResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'DtoCreditNoteResponse' from JSON`,
  );
}
